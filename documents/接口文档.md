# 任务管理系统接口文档

## 登录模块

1.用户登录

token--用户令牌 ：JWT （json web token）

业务流程：

1.前端发送登录表单（包含username和password）

2.后端校验用户名和密码

3.后端校验通过之后，返回校验结果，用户名，用户的token

4.前端保存用户token，后续用户的每一次请求都需要将token放在请求头里面发送给后端



接口地址：http://0.0.0.0:8000/tms/login

请求方法：POST

请求格式：x-www-form-urlencoded

请求字段：username, password

正常返回值：

```json
{
    "code": 200,
    "message": "登录成功",
    "data": {
        "username": "32088",
        "token": "bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzMjA4OCIsImV4cCI6MTcxNzMyMDg2NH0.9JYxi5pwydwTfXJHEodUkCr189eIvMY_I_ZFxnDKFrQ",
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzMjA4OCIsImV4cCI6MTcxNzMyMDg2NH0.9JYxi5pwydwTfXJHEodUkCr189eIvMY_I_ZFxnDKFrQ"
    }
}
```

异常返回值：

```json
{
    "code": 400,
    "message": "用户名不存在",
    "data": {
        "username": "320884"
    }
}
```

```json
{
    "code": 400,
    "message": "用户密码错误",
    "data": {
        "username": "32088"
    }
}
```



2.用户注册

业务流程：

1.前端发送注册的json数据，包含用户的字段，username，password，nickname，gender，telephone

2.后端写入数据库，密码会加密

3.后端返回注册的结果



接口地址：http://0.0.0.0:8000/tms/register

请求方法：POST

请求格式：json

请求字段：

```json
{
    "username":"32089",
    "password":"zhou0914.",
    "nickname":"会飞的猪",
    "gender":"男",
    "telephone":"13425636267"
}
```

正常返回值：

```json
{
    "code": 200,
    "message": "注册成功",
    "data": {
        "created_time": "2024-06-02T17:34:21.353933+08:00",
        "updated_time": "2024-06-02T17:34:21.353933+08:00",
        "id": 5,
        "username": "32089",
        "nickname": "会飞的猪",
        "gender": "男",
        "telephone": "13425636267"
    }
}
```

异常返回值：

```json
{
    "code": 400,
    "message": "用户名已存在",
    "data": {
        "username": "32088"
    }
}
```



3.用户退出登录--代办



## 用户模块

## 任务模块





